<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hospital Intelligence | Heirloom</title>
<meta name="description" content="Search any US hospital. See quality scores, geographic risk, and community health — built from public federal data by Heirloom.">
<meta property="og:type" content="website">
<meta property="og:title" content="Know Your Hospital. Own Your Geography.">
<meta property="og:description" content="Every hospital operates under geographic constraints CMS doesn't measure. We built the index that does. Search 3,403 hospitals.">
<meta property="og:site_name" content="Heirloom Data">
<meta property="og:url" content="https://heirloomdata.io/intelligence">
<meta property="og:image" content="https://heirloomdata.io/og-intelligence.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Know Your Hospital. Own Your Geography.">
<meta name="twitter:description" content="Geographic Risk Index for 3,403 US hospitals. Free tool from Heirloom Data.">
<meta name="twitter:image" content="https://heirloomdata.io/og-intelligence.png">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect rx='18' width='100' height='100' fill='%2314b8a6'/><text x='50' y='72' text-anchor='middle' font-size='60' font-weight='900' fill='%2306090f'>H</text></svg>">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;0,800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#06090f;--bg2:#0c1018;--bg3:#111827;
  --border:rgba(148,163,184,0.06);--border2:rgba(148,163,184,0.12);
  --text:#94a3b8;--text2:#64748b;--text3:#475569;
  --white:#f1f5f9;--offwhite:#e2e8f0;
  --teal:#2dd4bf;--teal-dim:rgba(45,212,191,0.08);
  --emerald:#34d399;--emerald-dim:rgba(52,211,153,0.08);
  --amber:#fbbf24;--amber-dim:rgba(251,191,36,0.08);
  --rose:#fb7185;--rose-dim:rgba(251,113,133,0.08);
  --sky:#38bdf8;--sky-dim:rgba(56,189,248,0.08);
  --violet:#a78bfa;
  --r:14px;--r2:10px;
  --font:'DM Sans',system-ui,sans-serif;--mono:'JetBrains Mono',monospace;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:var(--font);background:var(--bg);color:var(--text);min-height:100vh;-webkit-font-smoothing:antialiased;}
::selection{background:rgba(45,212,191,0.25);}

.hero{position:relative;padding:52px 24px 36px;text-align:center;overflow:hidden;}
.hero::before{content:'';position:absolute;top:-120px;left:50%;transform:translateX(-50%);width:800px;height:500px;background:radial-gradient(ellipse,rgba(45,212,191,0.06) 0%,transparent 65%);pointer-events:none;}
.brand{display:inline-flex;align-items:center;gap:10px;margin-bottom:24px;opacity:0.85;}
.brand-mark{width:28px;height:28px;border-radius:6px;background:linear-gradient(135deg,var(--teal),#14b8a6);display:flex;align-items:center;justify-content:center;}
.brand-mark svg{width:16px;height:16px;}
.brand-text{font-size:12px;font-weight:700;color:var(--offwhite);letter-spacing:2.5px;text-transform:uppercase;}
.hero h1{font-size:clamp(26px,4vw,38px);font-weight:800;color:var(--white);letter-spacing:-1px;line-height:1.15;max-width:580px;margin:0 auto 14px;}
.hero h1 span{background:linear-gradient(135deg,var(--teal),var(--emerald));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.hero .sub{color:var(--text);font-size:14px;line-height:1.7;max-width:480px;margin:0 auto 28px;}
.pills{display:flex;justify-content:center;gap:20px;margin-bottom:32px;flex-wrap:wrap;}
.pill{font-family:var(--mono);font-size:11px;font-weight:500;color:var(--text2);display:flex;align-items:center;gap:6px;}
.pill b{color:var(--teal);font-size:14px;}

.search-outer{max-width:520px;margin:0 auto;position:relative;}
.search-outer input{width:100%;padding:15px 18px 15px 44px;font-family:var(--font);font-size:15px;font-weight:500;border:1px solid var(--border2);border-radius:12px;background:var(--bg2);color:var(--white);outline:none;transition:all 0.2s;}
.search-outer input:focus{border-color:rgba(45,212,191,0.4);box-shadow:0 0 0 3px rgba(45,212,191,0.08);background:var(--bg3);}
.search-outer input::placeholder{color:var(--text3);}
.si{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:var(--text3);pointer-events:none;}
.si svg{width:18px;height:18px;}
.dd{position:absolute;top:calc(100%+4px);left:0;right:0;background:var(--bg3);border:1px solid var(--border2);border-radius:12px;max-height:320px;overflow-y:auto;z-index:100;display:none;box-shadow:0 20px 60px rgba(0,0,0,0.5);}
.dd.show{display:block;}
.dd-i{padding:12px 16px;cursor:pointer;border-bottom:1px solid var(--border);transition:background 0.12s;}
.dd-i:last-child{border:none;}
.dd-i:hover{background:var(--teal-dim);}
.dd-n{font-weight:600;color:var(--white);font-size:13px;display:flex;align-items:center;gap:8px;}
.dd-l{color:var(--text3);font-size:11px;margin-top:2px;}
.dd-b{display:inline-block;padding:1px 7px;border-radius:4px;font-family:var(--mono);font-size:10px;font-weight:600;}

.wrap{max-width:860px;margin:0 auto;padding:0 20px;}
.hidden{display:none!important;}

.ph{padding:36px 0 4px;}
.ph h2{font-size:22px;font-weight:800;color:var(--white);letter-spacing:-0.5px;}
.ph .loc{color:var(--text2);font-size:13px;margin-top:3px;}
.badges{display:flex;gap:6px;margin-top:12px;flex-wrap:wrap;}
.bg{padding:4px 10px;border-radius:6px;font-family:var(--mono);font-size:11px;font-weight:500;border:1px solid var(--border2);}

.sec{background:var(--bg2);border:1px solid var(--border);border-radius:var(--r);padding:24px;margin-bottom:16px;}
.sec-h{display:flex;align-items:center;gap:10px;margin-bottom:18px;}
.sec-h h3{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:var(--text2);}
.sec-ic{width:26px;height:26px;border-radius:7px;display:flex;align-items:center;justify-content:center;font-size:13px;}

.kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(145px,1fr));gap:10px;margin-bottom:14px;}
.kpi{background:var(--bg);border:1px solid var(--border);border-radius:var(--r2);padding:16px 14px;text-align:center;}
.kpi .kl{font-family:var(--mono);font-size:9px;text-transform:uppercase;letter-spacing:1px;color:var(--text3);margin-bottom:5px;}
.kpi .kv{font-size:26px;font-weight:800;line-height:1;font-variant-numeric:tabular-nums;}
.kpi .ks{font-size:10px;color:var(--text2);margin-top:5px;line-height:1.3;}
.c-teal{color:var(--teal);}
.c-emerald{color:var(--emerald);}
.c-amber{color:var(--amber);}
.c-rose{color:var(--rose);}
.c-sky{color:var(--sky);}
.c-white{color:var(--white);}

.gri-bar{position:relative;height:36px;border-radius:8px;background:linear-gradient(90deg,#2dd4bf 0%,#34d399 18%,#fbbf24 42%,#f97316 62%,#fb7185 78%,#dc2626 100%);margin:6px 0;}
.gri-pin{position:absolute;top:-4px;width:3px;height:44px;background:var(--white);border-radius:2px;transform:translateX(-50%);box-shadow:0 0 12px rgba(255,255,255,0.5);z-index:2;}
.gri-pin::after{content:attr(data-label);position:absolute;bottom:-20px;left:50%;transform:translateX(-50%);white-space:nowrap;font-family:var(--mono);font-size:10px;font-weight:600;color:var(--white);}
.gri-ax{display:flex;justify-content:space-between;font-family:var(--mono);font-size:9px;color:var(--text3);margin-top:18px;padding:0 2px;}

.mort-flex{display:flex;align-items:center;gap:12px;justify-content:center;flex-wrap:wrap;padding:6px 0;}
.mort-c{text-align:center;padding:14px 18px;border-radius:var(--r2);min-width:120px;}
.mort-c .ml{font-family:var(--mono);font-size:9px;text-transform:uppercase;letter-spacing:1px;color:var(--text3);}
.mort-c .mv{font-size:28px;font-weight:800;margin-top:3px;}
.mort-arr{color:var(--text3);font-size:16px;}
.mort-gap .mv{font-size:24px;font-weight:800;}
.mort-gap .ml{font-family:var(--mono);font-size:10px;color:var(--text2);}

.curve{display:flex;align-items:flex-end;gap:3px;height:140px;padding:0 2px;margin-top:16px;}
.cb-w{flex:1;display:flex;flex-direction:column;align-items:center;height:100%;justify-content:flex-end;}
.cb{width:100%;border-radius:3px 3px 0 0;min-height:3px;transition:all 0.3s;}
.cb.you{box-shadow:0 0 12px rgba(45,212,191,0.6);}
.cb-v{font-family:var(--mono);font-size:8px;color:var(--text3);margin-bottom:2px;}
.cb-l{font-family:var(--mono);font-size:8px;color:var(--text3);margin-top:4px;text-align:center;line-height:1.2;}

.tabs{display:flex;gap:4px;margin-bottom:14px;flex-wrap:wrap;}
.tab{padding:5px 12px;border-radius:6px;font-family:var(--mono);font-size:11px;font-weight:500;cursor:pointer;border:1px solid var(--border);background:transparent;color:var(--text3);transition:all 0.15s;}
.tab.act{background:var(--teal-dim);border-color:rgba(45,212,191,0.25);color:var(--teal);}
.tab:hover:not(.act){background:rgba(255,255,255,0.03);}
.stbl{width:100%;border-collapse:collapse;}
.stbl th{text-align:left;padding:6px 8px;font-family:var(--mono);font-size:9px;text-transform:uppercase;letter-spacing:0.5px;color:var(--text3);border-bottom:1px solid var(--border2);}
.stbl th.r{text-align:right;}
.stbl td{padding:8px 8px;border-bottom:1px solid var(--border);font-size:12px;}
.stbl td.r{text-align:right;font-weight:600;font-size:13px;font-variant-numeric:tabular-nums;}
.stbl tr:hover{background:rgba(255,255,255,0.015);}
.s-g{color:var(--teal);}
.s-r{color:var(--rose);}
.s-n{color:var(--text);}
.dot{display:inline-block;width:6px;height:6px;border-radius:50%;margin-right:5px;vertical-align:middle;}
.dot-g{background:var(--teal);}
.dot-r{background:var(--rose);}
.dot-y{background:var(--text3);}
.empty{text-align:center;color:var(--text3);padding:24px;font-size:12px;}

.bars{display:flex;flex-direction:column;gap:8px;}
.br{display:flex;align-items:center;gap:10px;}
.br-l{width:95px;font-size:11px;color:var(--text2);text-align:right;flex-shrink:0;}
.br-t{flex:1;height:20px;background:var(--bg);border-radius:3px;position:relative;overflow:visible;display:flex;align-items:center;}
.br-f{height:100%;border-radius:3px;transition:width 0.5s ease;}
.br-v{position:absolute;right:-34px;font-family:var(--mono);font-size:10px;font-weight:500;white-space:nowrap;}
.br-m{position:absolute;top:-1px;bottom:-1px;width:2px;background:var(--amber);border-radius:1px;z-index:2;}
.br-m::after{content:'US';position:absolute;top:-12px;left:50%;transform:translateX(-50%);font-family:var(--mono);font-size:7px;color:var(--amber);font-weight:600;}

.tag{display:inline-block;font-family:var(--mono);font-size:9px;padding:2px 8px;border-radius:4px;font-weight:500;}

/* CTA */
.cta{position:relative;border-radius:var(--r);padding:40px 28px;text-align:center;margin:8px 0 12px;overflow:hidden;background:var(--bg2);border:1px solid rgba(45,212,191,0.12);}
.cta::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--teal),transparent);}
.cta h3{font-size:22px;font-weight:800;color:var(--white);letter-spacing:-0.5px;margin-bottom:12px;line-height:1.3;}
.cta h3 span{color:var(--teal);}
.cta p{color:var(--text);font-size:13px;line-height:1.75;max-width:540px;margin:0 auto;}
.cta .hl{color:var(--offwhite);font-weight:600;}
.cta-btn{display:inline-block;margin-top:24px;padding:13px 36px;background:linear-gradient(135deg,var(--teal),#14b8a6);color:var(--bg);font-family:var(--font);font-weight:700;font-size:14px;border-radius:10px;text-decoration:none;transition:all 0.2s;cursor:pointer;border:none;letter-spacing:0.3px;}
.cta-btn:hover{transform:translateY(-1px);box-shadow:0 8px 28px rgba(45,212,191,0.3);}
.cta-fine{font-family:var(--mono);font-size:10px;color:var(--text3);margin-top:14px;line-height:1.7;}

/* MODAL */
.overlay{position:fixed;inset:0;background:rgba(6,9,15,0.85);backdrop-filter:blur(8px);z-index:900;display:none;align-items:center;justify-content:center;padding:20px;}
.overlay.open{display:flex;}
.modal{background:var(--bg2);border:1px solid var(--border2);border-radius:18px;width:100%;max-width:480px;max-height:90vh;overflow-y:auto;position:relative;animation:modalIn 0.25s ease;}
@keyframes modalIn{from{opacity:0;transform:translateY(12px);}to{opacity:1;transform:none;}}
.modal-close{position:absolute;top:14px;right:14px;background:none;border:none;color:var(--text3);cursor:pointer;font-size:20px;line-height:1;padding:4px;}
.modal-close:hover{color:var(--white);}
.modal-head{padding:32px 28px 0;text-align:center;}
.modal-head h3{font-size:20px;font-weight:800;color:var(--white);letter-spacing:-0.5px;}
.modal-head h3 span{color:var(--teal);}
.modal-head p{color:var(--text);font-size:13px;margin-top:8px;line-height:1.5;}
.modal-body{padding:24px 28px 28px;}
.fg{margin-bottom:16px;}
.fg label{display:block;font-family:var(--mono);font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--text2);margin-bottom:6px;}
.fg input,.fg select,.fg textarea{width:100%;padding:11px 14px;font-family:var(--font);font-size:14px;font-weight:500;border:1px solid var(--border2);border-radius:8px;background:var(--bg);color:var(--white);outline:none;transition:border-color 0.2s;}
.fg input:focus,.fg select:focus,.fg textarea:focus{border-color:rgba(45,212,191,0.4);}
.fg input::placeholder,.fg textarea::placeholder{color:var(--text3);font-weight:400;}
.fg select{-webkit-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='7'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%2364748b' stroke-width='1.5' fill='none'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;padding-right:32px;}
.fg select option{background:var(--bg3);color:var(--white);}
.fg textarea{resize:vertical;min-height:60px;}
.fg-row{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.fg-check{display:flex;align-items:flex-start;gap:10px;margin:18px 0 20px;}
.fg-check input[type=checkbox]{width:16px;height:16px;margin-top:2px;accent-color:var(--teal);flex-shrink:0;}
.fg-check label{font-size:11px;color:var(--text2);line-height:1.5;cursor:pointer;}
.fg-check label b{color:var(--offwhite);font-weight:600;}
.modal-submit{width:100%;padding:13px;background:linear-gradient(135deg,var(--teal),#14b8a6);color:var(--bg);font-family:var(--font);font-weight:700;font-size:14px;border-radius:10px;border:none;cursor:pointer;transition:all 0.2s;}
.modal-submit:hover{box-shadow:0 6px 24px rgba(45,212,191,0.3);transform:translateY(-1px);}
.modal-submit:disabled{opacity:0.5;cursor:not-allowed;transform:none;box-shadow:none;}
.modal-fine{text-align:center;font-family:var(--mono);font-size:9px;color:var(--text3);margin-top:14px;line-height:1.6;}
.modal-ok{text-align:center;padding:48px 28px;}
.modal-ok .ok-icon{font-size:48px;margin-bottom:12px;}
.modal-ok h3{font-size:20px;font-weight:800;color:var(--white);}
.modal-ok p{color:var(--text);font-size:13px;margin-top:8px;line-height:1.6;max-width:340px;margin-left:auto;margin-right:auto;}
.hosp-tag{display:inline-block;background:var(--teal-dim);border:1px solid rgba(45,212,191,0.2);border-radius:6px;padding:3px 10px;font-family:var(--mono);font-size:11px;color:var(--teal);font-weight:500;margin-top:10px;}

.source{text-align:center;font-family:var(--mono);font-size:9px;color:var(--text3);padding:12px 20px 44px;line-height:1.7;max-width:680px;margin:0 auto;}

@media(max-width:640px){
  .kpis{grid-template-columns:1fr 1fr;}
  .mort-flex{flex-direction:column;gap:6px;}
  .br-l{width:75px;font-size:10px;}
}
</style>
</head>
<body>
<div class="hero">
  <div class="brand">
    <img src="data:image/png;base64,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" alt="Heirloom" style="height:36px;opacity:0.9;">
    <div class="brand-text">Heirloom Data</div>
  </div>
  <h1>Know Your Hospital.<br>Own Your <span>Geography</span>.</h1>
  <p class="sub">Every hospital operates under geographic constraints that CMS doesn't measure. We built the index that does. Search yours — it's free.</p>
  <div class="pills">
    <div class="pill"><b>3,403</b> hospitals</div>
    <div class="pill"><b>21</b> quality measures</div>
    <div class="pill"><b>9</b> community indicators</div>
  </div>
  <div class="search-outer">
    <div class="si"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg></div>
    <input type="text" id="search" placeholder="Type any hospital name..." autocomplete="off" spellcheck="false">
    <div class="dd" id="dd"></div>
  </div>
</div>

<div class="wrap">
<div id="results" class="hidden">
  <div class="ph">
    <h2 id="hN"></h2>
    <div class="loc" id="hL"></div>
    <div class="badges" id="hB"></div>
  </div>
  <div class="kpis" id="kpis"></div>

  <div class="sec">
    <div class="sec-h"><div class="sec-ic" style="background:var(--teal-dim);color:var(--teal);">&#9670;</div><h3>Geographic Risk Position</h3></div>
    <div class="gri-bar"><div class="gri-pin" id="gPin"></div></div>
    <div class="gri-ax"><span>D1 · Major Urban</span><span>D5 · Suburban</span><span>D10 · Isolated Rural</span></div>
  </div>

  <div class="sec">
    <div class="sec-h"><div class="sec-ic" style="background:var(--rose-dim);color:var(--rose);">&#9829;</div><h3>Mortality vs Geographic Expectation</h3></div>
    <div class="mort-flex" id="mRow"></div>
    <div class="curve" id="curve"></div>
    <div style="text-align:center;font-family:var(--mono);font-size:9px;color:var(--text3);margin-top:6px;">Mean composite mortality by GRI decile · N=3,403</div>
  </div>

  <div class="sec">
    <div class="sec-h"><div class="sec-ic" style="background:var(--sky-dim);color:var(--sky);">&#9733;</div><h3>CMS Quality Scores</h3></div>
    <div class="tabs" id="tabs"></div>
    <div id="sWrap"></div>
  </div>

  <div class="sec">
    <div class="sec-h"><div class="sec-ic" style="background:var(--emerald-dim);color:var(--emerald);">&#9673;</div><h3>Community Health Profile</h3></div>
    <div style="font-family:var(--mono);font-size:9px;color:var(--text3);margin-bottom:12px;letter-spacing:0.5px;">ZIP-level prevalence vs US median (yellow). Source: CDC PLACES 2025.</div>
    <div class="bars" id="bars"></div>
  </div>

  <div id="sDrg" class="sec hidden">
    <div class="sec-h"><div class="sec-ic" style="background:var(--amber-dim);color:var(--amber);">&#9883;</div><h3>Top Surgical DRGs</h3></div>
    <div id="drgW"></div>
  </div>

  <!-- CTA -->
  <div class="cta">
    <h3>This is your hospital's <span>geography</span>.<br>Now imagine what your <span>data</span> could do.</h3>
    <p>Everything above was built from public data. Imagine what we can see when your hospital's <span class="hl">actual operational data</span> is in the picture — missed revenue recovered, outcomes tracked, your patients finally <span class="hl">visible</span> in the national conversation.</p>
    <p style="margin-top:14px;">Heirloom partners with community hospitals to turn perioperative data into analytics, insights, and new revenue streams. <span class="hl">Zero upfront cost.</span> Your hospital owns its data. We grow together.</p>
    <button class="cta-btn" id="ctaBtn">Let's Talk →</button>
    <div class="cta-fine">Free to join · Your hospital owns its data · Zero upfront cost · We grow together</div>
  </div>

  <!-- Feedback -->
  <div style="text-align:center;padding:24px 20px 12px;">
    <div style="font-size:14px;color:var(--offwhite);font-weight:600;margin-bottom:6px;">Have a burning question? See a metric we're missing?</div>
    <div style="font-size:13px;color:var(--text);line-height:1.7;max-width:460px;margin:0 auto;">We built this to start a conversation, not end one. Tell us what would make it more useful for your hospital. Let's build this together.</div>
    <div style="margin-top:14px;display:flex;justify-content:center;gap:16px;flex-wrap:wrap;">
      <a href="/cdn-cgi/l/email-protection#a6c3d0c7c8e6cec3cfd4cac9c9cbc2c7d2c788cfc999d5d3c4ccc3c5d29beec9d5d6cfd2c7ca839496efc8d2c3cacacfc1c3c8c5c3839496e0c3c3c2c4c7c5cd" style="font-family:var(--mono);font-size:12px;color:var(--teal);text-decoration:none;border:1px solid rgba(45,212,191,0.2);padding:7px 16px;border-radius:8px;"><span class="__cf_email__" data-cfemail="afcad9cec1efc7cac6ddc3c0c0c2cbcedbce81c6c0">[email&#160;protected]</span></a>
      <a href="tel:+17349729930" style="font-family:var(--mono);font-size:12px;color:var(--text2);text-decoration:none;border:1px solid var(--border2);padding:7px 16px;border-radius:8px;">734-972-9930</a>
    </div>
  </div>
</div>
</div>

<!-- MODAL -->
<div class="overlay" id="overlay">
  <div class="modal" id="modal">
    <button class="modal-close" id="mClose">&times;</button>
    <div id="mForm">
      <div class="modal-head">
        <h3>Let's <span>grow together</span></h3>
        <p>Tell us about yourself and we'll reach out to explore what's possible for your hospital. No commitment, no cost.</p>
      </div>
      <div class="modal-body">
        <div class="fg">
          <label>Hospital</label>
          <input type="text" id="fHosp" readonly style="color:var(--teal);background:var(--teal-dim);border-color:rgba(45,212,191,0.15);cursor:default;">
        </div>
        <div class="fg-row">
          <div class="fg"><label>Your Name</label><input type="text" id="fName" placeholder="Jane Smith"></div>
          <div class="fg"><label>Title</label><input type="text" id="fTitle" placeholder="CFO, VP Operations, etc."></div>
        </div>
        <div class="fg-row">
          <div class="fg"><label>Email</label><input type="email" id="fEmail" placeholder="jane@hospital.org"></div>
          <div class="fg"><label>Phone (optional)</label><input type="tel" id="fPhone" placeholder="(555) 123-4567"></div>
        </div>
        <div class="fg">
          <label>What would help your hospital most? (optional)</label>
          <textarea id="fNote" placeholder="Revenue recovery, benchmarking, patient outcomes, data monetization, research partnerships..."></textarea>
        </div>
        <div class="fg-check">
          <input type="checkbox" id="fAgree">
          <label for="fAgree">I'd like to learn more about how Heirloom can help my hospital. I understand this is <b>not a commitment</b> — just a conversation starter.</label>
        </div>
        <button class="modal-submit" id="mSubmit" disabled>Start the Conversation</button>
        <div class="modal-fine">Your information is never shared. Questions? <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4d283b2c230d2528243f21222220292c392c632422">[email&#160;protected]</a> · 734-972-9930</div>
      </div>
    </div>
    <div id="mOk" class="modal-ok" style="display:none;">
      <div class="ok-icon">&#10003;</div>
      <h3>We'll be in touch.</h3>
      <p>Expect to hear from us within 48 hours. We're looking forward to learning about your hospital and exploring how we can help.</p>
      <div class="hosp-tag" id="okHosp"></div>
    </div>
  </div>
</div>

<div class="source">
  CMS Hospital Compare 2025 · Medicare IPPS CY2023 · CDC PLACES 2025 · CDC/ATSDR SVI 2022 · USDA RUCA 2020<br>
  Geographic Risk Index: <em>The Community Gap</em> · Heirloom Data Inc. 2026 · heirloomdata.io
</div>
<script src="data.js"></script>
<script>
const H=D.h,CV=D.cv,SN=D.sn,NM=D.nm;
function gc(i){return i<7?'mort':i<12?'comp':'read';}
const catN={mort:'Mortality',comp:'Safety & Complications',read:'Readmissions'};
const inp=document.getElementById('search'),dd=document.getElementById('dd'),res=document.getElementById('results');
let cur=null,cCat='mort';

inp.addEventListener('input',function(){
  const raw=this.value.toLowerCase().trim();
  if(raw.length<2){dd.classList.remove('show');return;}
  const tokens=raw.split(/\s+/).filter(t=>t.length>0);
  const m=[];
  for(let i=0;i<H.length&&m.length<8;i++){
    const h=H[i];
    const hay=(h.n+' '+h.c+' '+h.s).toLowerCase();
    const hayNoSpace=hay.replace(/\s+/g,'');
    if(tokens.every(t=>hay.includes(t)||hayNoSpace.includes(t)))m.push([i,h]);
  }
  if(!m.length){dd.classList.remove('show');return;}
  dd.innerHTML=m.map(([i,h])=>{
    const col=h.d<=3?'var(--teal)':h.d<=6?'var(--amber)':h.d<=8?'var(--rose)':'#dc2626';
    return`<div class="dd-i" data-i="${i}"><div class="dd-n">${h.n}<span class="dd-b" style="background:${col}18;color:${col};border:1px solid ${col}33;">D${h.d}</span></div><div class="dd-l">${h.c}, ${h.s} · ${h.dl}</div></div>`;
  }).join('');
  dd.classList.add('show');
  dd.querySelectorAll('.dd-i').forEach(el=>el.onclick=function(){show(H[+this.dataset.i]);dd.classList.remove('show');inp.value=H[+this.dataset.i].n;});
});
document.addEventListener('click',e=>{if(!e.target.closest('.search-outer'))dd.classList.remove('show');});

// Modal
const overlay=document.getElementById('overlay');
const fAgree=document.getElementById('fAgree'),mSubmit=document.getElementById('mSubmit');
function openModal(){
  if(!cur)return;
  document.getElementById('fHosp').value=cur.n+' — '+cur.c+', '+cur.s;
  document.getElementById('mForm').style.display='';
  document.getElementById('mOk').style.display='none';
  fAgree.checked=false;mSubmit.disabled=true;
  overlay.classList.add('open');document.body.style.overflow='hidden';
}
function closeModal(){overlay.classList.remove('open');document.body.style.overflow='';}
document.getElementById('ctaBtn').onclick=openModal;
document.getElementById('mClose').onclick=closeModal;
overlay.onclick=function(e){if(e.target===overlay)closeModal();};
document.addEventListener('keydown',e=>{if(e.key==='Escape')closeModal();});
fAgree.onchange=function(){mSubmit.disabled=!this.checked;};
mSubmit.onclick=function(){
  if(!fAgree.checked)return;
  const d={hospital:document.getElementById('fHosp').value,name:document.getElementById('fName').value,
    title:document.getElementById('fTitle').value,email:document.getElementById('fEmail').value,
    phone:document.getElementById('fPhone').value,note:document.getElementById('fNote').value,
    decile:cur?cur.d:null,state:cur?cur.s:null,ts:new Date().toISOString()};
  if(!d.name.trim()||!d.email.trim()){alert('Please enter your name and email.');return;}
  if(!d.email.includes('@')){alert('Please enter a valid email address.');return;}
  const s=JSON.parse(localStorage.getItem('heirloom_leads')||'[]');s.push(d);
  localStorage.setItem('heirloom_leads',JSON.stringify(s));
fetch('https://hooks.zapier.com/hooks/catch/26496010/ucmrtvk/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(d)}).catch(()=>{});

  document.getElementById('mForm').style.display='none';
  document.getElementById('mOk').style.display='';
  document.getElementById('okHosp').textContent=cur.n;
};

function show(h){
  cur=h;res.classList.remove('hidden');
  document.getElementById('hN').textContent=h.n;
  document.getElementById('hL').textContent=h.c+', '+h.s;
  const dc=h.d<=3?'var(--teal)':h.d<=6?'var(--amber)':h.d<=8?'var(--rose)':'#dc2626';
  let bd=`<span class="bg" style="border-color:${dc}33;color:${dc};">Decile ${h.d} · ${h.dl}</span>`;
  if(h.ruca)bd+=`<span class="bg">RUCA ${h.ruca}</span>`;
  document.getElementById('hB').innerHTML=bd;

  const r=h.r||0;
  const rc=r<-0.3?'c-teal':r>0.3?'c-rose':'c-amber';
  const pc=h.pp<=33?'c-teal':h.pp<=67?'c-amber':'c-rose';
  const ps=h.p?'$'+h.p.toLocaleString():'—';
  const pyc=h.p&&h.pmp?(h.p>=h.pmp?'c-teal':'c-amber'):'c-white';
  let kh=`
    <div class="kpi"><div class="kl">GRI Decile</div><div class="kv" style="color:${dc}">${h.d}</div><div class="ks">${h.dl}</div></div>
    <div class="kpi"><div class="kl">Mortality Gap</div><div class="kv ${rc}">${r>=0?'+':''}${r.toFixed(1)}<small style="font-size:12px">pp</small></div><div class="ks">${r<-0.5?'Outperforming geography':r>0.5?'Opportunity vs peers':'Near expected'}</div></div>
    <div class="kpi"><div class="kl">Peer Rank</div><div class="kv ${pc}">${h.pp}<small style="font-size:12px">th</small></div><div class="ks">Among ${h.pn} D${h.d} hospitals</div></div>
    <div class="kpi"><div class="kl">$/Case</div><div class="kv ${pyc}">${ps}</div><div class="ks">${h.pmp?'Peer median: $'+h.pmp.toLocaleString():''}</div></div>
    <div class="kpi"><div class="kl">Volume</div><div class="kv c-sky">${h.cs.toLocaleString()}</div><div class="ks">Medicare discharges</div></div>`;
  if(h.sv&&h.sv.overall!=null){
    const sc=h.sv.overall>0.7?'c-rose':h.sv.overall>0.4?'c-amber':'c-teal';
    kh+=`<div class="kpi"><div class="kl">Vulnerability</div><div class="kv ${sc}">${(h.sv.overall*100).toFixed(0)}<small style="font-size:12px">th</small></div><div class="ks">CDC/ATSDR SVI</div></div>`;
  }
  document.getElementById('kpis').innerHTML=kh;

  document.getElementById('gPin').style.left=((h.d-0.5)/10*100)+'%';
  document.getElementById('gPin').dataset.label='D'+h.d+' — You';

  const gc2=r<=0?'c-teal':'c-rose';
  document.getElementById('mRow').innerHTML=`
    <div class="mort-c" style="background:var(--teal-dim);border:1px solid rgba(45,212,191,0.15);"><div class="ml">Actual</div><div class="mv c-teal">${h.m}%</div></div>
    <div class="mort-arr">→</div>
    <div class="mort-c" style="background:var(--amber-dim);border:1px solid rgba(251,191,36,0.15);"><div class="ml">GRI Expected</div><div class="mv c-amber">${h.e}%</div></div>
    <div class="mort-arr">→</div>
    <div class="mort-gap" style="text-align:center;"><div class="mv ${gc2}">${r>=0?'+':''}${r.toFixed(1)}pp</div><div class="ml">Residual</div></div>`;

  document.getElementById('curve').innerHTML=CV.map(c=>{
    const ht=((c.m-10)/6)*120;const me=c.d===h.d;
    const col=me?'var(--teal)':`hsl(${175-(c.d-1)*15},50%,${48-c.d*2}%)`;
    return`<div class="cb-w"><div class="cb-v">${c.m}%</div><div class="cb${me?' you':''}" style="height:${Math.max(ht,4)}px;background:${col};"></div><div class="cb-l">D${c.d}${me?'<br>▲':''}</div></div>`;
  }).join('');

  rTabs();rScores('mort');rComm(h);

  // Top DRGs
  const ds=document.getElementById('sDrg'),dw=document.getElementById('drgW');
  if(h.ts&&h.ts.length){
    ds.classList.remove('hidden');
    dw.innerHTML='<div style="display:flex;flex-wrap:wrap;gap:6px;">'+h.ts.map(d=>`<span class="tag" style="background:var(--bg);border:1px solid var(--border);color:var(--text);">${d[0]} <span style="color:var(--teal);font-weight:700;">${d[1]}</span></span>`).join('')+'</div>';
  }else{ds.classList.add('hidden');}

  res.scrollIntoView({behavior:'smooth',block:'start'});
}

function rTabs(){
  document.getElementById('tabs').innerHTML=['mort','comp','read'].map(c=>`<div class="tab${c===cCat?' act':''}" data-c="${c}">${catN[c]}</div>`).join('');
  document.getElementById('tabs').querySelectorAll('.tab').forEach(t=>t.onclick=function(){cCat=this.dataset.c;rTabs();rScores(this.dataset.c);});
}
function rScores(cat){
  const w=document.getElementById('sWrap');
  if(!cur||!cur.sc||!cur.sc.length){w.innerHTML='<div class="empty">No CMS scores available.</div>';return;}
  const sc=cur.sc.filter(s=>gc(s[0])===cat);
  if(!sc.length){w.innerHTML='<div class="empty">No scores in this category.</div>';return;}
  sc.sort((a,b)=>a[0]-b[0]);
  let t='<table class="stbl"><tr><th>Measure</th><th class="r">Score</th><th class="r">National</th><th class="r">Status</th></tr>';
  for(const s of sc){
    const cl=s[2]===1?'s-g':s[2]===-1?'s-r':'s-n';
    const dt=s[2]===1?'dot-g':s[2]===-1?'dot-r':'dot-y';
    const tx=s[2]===1?'Better':s[2]===-1?'Worse':'No Diff';
    t+=`<tr><td>${SN[s[0]]}</td><td class="r ${cl}">${s[1]}</td><td class="r" style="color:var(--text3)">${s.length>3?s[3]:'—'}</td><td class="r"><span class="dot ${dt}"></span><span class="${cl}">${tx}</span></td></tr>`;
  }
  w.innerHTML=t+'</table>';
}
function rComm(h){
  const el=document.getElementById('bars');
  if(!h.ch){el.innerHTML='<div class="empty">No community data for this ZIP.</div>';return;}
  const order=['Hypertension','Obesity','Diabetes','Depression','COPD','Heart Disease','Smoking','Disability','No Health Insurance'];
  const mx=60;
  el.innerHTML=order.filter(k=>h.ch[k]!=null).map(k=>{
    const v=h.ch[k],n=NM[k]||0;
    const pct=Math.min(v/
